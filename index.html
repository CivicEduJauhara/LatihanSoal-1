<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soal Latihan PPKn Kelas XII - Semester Ganjil</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Firebase (Boilerplate for Canvas environment) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // Use global variables provided by the Canvas environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;

        if (firebaseConfig) {
            try {
                const app = initializeApp(firebaseConfig);
                window.db = getFirestore(app);
                const auth = getAuth(app);
                
                // Sign in using custom token or anonymously
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    signInWithCustomToken(auth, __initial_auth_token).catch(e => {
                        console.error("Custom token sign-in failed, trying anonymous.", e);
                        signInAnonymously(auth);
                    });
                } else {
                    signInAnonymously(auth);
                }
                
                console.log("Firebase initialized and attempting sign-in.");
            } catch (e) {
                console.error("Firebase initialization failed:", e);
            }
        }
    </script>
    <style>
        /* Custom Styles for Pink Theme and Aesthetics */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        :root {
            --color-pink-primary: #fbcfe8; /* Pink 200/300 */
            --color-pink-accent: #db2777;  /* Pink 600/700 */
            --color-pink-dark: #831843;    /* Pink 900 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fce7f3; /* Pink 50 - Very Light Pink Background */
        }
        .card {
            background-color: #fdf2f8; /* Pink 50 - Slightly more opaque */
            box-shadow: 0 10px 15px -3px rgba(219, 39, 119, 0.1), 0 4px 6px -2px rgba(219, 39, 119, 0.05);
            border-top: 4px solid var(--color-pink-accent);
        }
        /* Override border-top for the main quiz card when the header is not present */
        #quiz-container .card {
            border-top: 0;
        }
        .pink-button {
            background-color: var(--color-pink-accent);
            color: white;
            transition: all 0.2s;
        }
        .pink-button:hover {
            background-color: #be185d; /* Pink 700 */
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(219, 39, 119, 0.2);
        }
        .option-button {
            transition: all 0.15s;
            border-left: 4px solid #fbcfe8;
        }
        .option-button:hover {
            background-color: #fbcfe8;
            border-left: 4px solid var(--color-pink-accent);
        }
        .selected {
            background-color: #f9a8d4; /* Pink 300 */
            border-left: 4px solid var(--color-pink-dark);
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
        }
        .correct-answer {
            background-color: #d1fae5; /* Green 100 - subtle highlight */
            border-left: 4px solid #10b981; /* Green 500 */
        }
        .incorrect-answer {
            background-color: #fee2e2; /* Red 100 - subtle highlight */
            border-left: 4px solid #ef4444; /* Red 500 */
        }
        .star-pulse {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center">

    <div id="app" class="w-full max-w-4xl">
        <!-- Content will be rendered here by JavaScript -->
    </div>

    <script>
        // --- QUIZ DATA (40 Questions with 5 options each) ---
        const questions = [
            // Kategori Mudah (10 Soal)
            {
                id: 1, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Hak warga negara yang dijamin dalam Pasal 27 ayat (2) UUD NRI Tahun 1945 adalah hak atas:",
                options: ["Kemerdekaan berserikat dan berkumpul", "Pekerjaan dan penghidupan yang layak", "Mendapat pendidikan", "Mencintai damai abadi", "Memperoleh keadilan sosial"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Pasal 27 ayat (2) UUD NRI Tahun 1945 secara spesifik menjamin hak setiap warga negara atas **pekerjaan dan penghidupan yang layak bagi kemanusiaan**. Pilihan lain diatur dalam pasal yang berbeda."
            },
            {
                id: 2, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Kewajiban dasar warga negara untuk ikut serta dalam upaya pembelaan negara diatur dalam pasal...",
                options: ["Pasal 28E ayat (1)", "Pasal 30 ayat (1)", "Pasal 31 ayat (1)", "Pasal 34 ayat (1)", "Pasal 27 ayat (1)"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Kewajiban ikut serta dalam upaya pembelaan negara diatur dalam **Pasal 30 ayat (1)** UUD NRI Tahun 1945. Ini adalah kewajiban dasar setiap warga negara."
            },
            {
                id: 3, category: 'mudah', objective: 'Pelanggaran & Pengingkaran',
                text: "Tidak membayar pajak tepat waktu merupakan contoh dari tindakan...",
                options: ["Pelanggaran hak warga negara", "Pengingkaran kewajiban warga negara", "Diskriminasi", "Pelanggaran hukum pidana", "Tanggung jawab moral"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Tidak membayar pajak termasuk **Pengingkaran Kewajiban Warga Negara** karena pajak adalah kewajiban yang harus dipenuhi untuk membiayai pembangunan negara."
            },
            {
                id: 4, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Setiap orang berhak atas kebebasan berserikat, berkumpul, dan mengeluarkan pendapat. Hak ini dijamin dalam UUD NRI Tahun 1945 Pasal:",
                options: ["28A", "28C", "28E", "30", "29"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Hak atas kebebasan berserikat, berkumpul, dan mengeluarkan pendapat diatur dalam **Pasal 28E** UUD NRI Tahun 1945."
            },
            {
                id: 5, category: 'mudah', objective: 'Pelanggaran & Pengingkaran',
                text: "Pelanggaran hak yang dilakukan oleh aparat negara terhadap warga sipil disebut sebagai...",
                options: ["Pengabaian", "Diskriminasi", "Abuse of Power", "Hak Asasi Manusia", "Neglect of Duty"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Pelanggaran yang dilakukan oleh pemegang kekuasaan (aparat) sering disebut sebagai **Abuse of Power** atau penyalahgunaan kekuasaan, yang berujung pada pelanggaran hak warga."
            },
            {
                id: 6, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Kewajiban untuk menghormati hak asasi orang lain diatur dalam Pasal 28J ayat (1) UUD NRI Tahun 1945, yang menyatakan bahwa setiap orang wajib...",
                options: ["Mematuhi aturan agama", "Menghormati hak asasi manusia orang lain", "Mendapatkan keadilan", "Melaksanakan pendidikan", "Mencari pekerjaan"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. **Pasal 28J ayat (1)** UUD NRI Tahun 1945 menegaskan kewajiban setiap orang untuk menghormati hak asasi manusia orang lain dalam tertib kehidupan bermasyarakat, berbangsa, dan bernegara."
            },
            {
                id: 7, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Hak untuk hidup dan mempertahankan hidup serta kehidupan, merupakan salah satu hak asasi manusia yang diatur dalam Pasal...",
                options: ["28A", "28B", "28C", "28D", "28E"],
                correctAnswerIndex: 0,
                explanation: "Jawabanmu salah. Hak untuk hidup dan mempertahankan kehidupan diatur dalam **Pasal 28A** UUD NRI Tahun 1945."
            },
            {
                id: 8, category: 'mudah', objective: 'Pelanggaran & Pengingkaran',
                text: "Contoh pengingkaran kewajiban di lingkungan sekolah adalah...",
                options: ["Mendapat nilai yang baik", "Membayar uang SPP", "Tidak memakai seragam sesuai aturan", "Mengikuti kegiatan ekstrakurikuler", "Memperoleh kebebasan berpendapat"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. **Tidak memakai seragam sesuai aturan** adalah bentuk pengingkaran kewajiban karena melanggar tata tertib yang wajib dipatuhi siswa."
            },
            {
                id: 9, category: 'mudah', objective: 'Hak & Kewajiban',
                text: "Perbedaan utama antara hak dan kewajiban adalah:",
                options: ["Hak adalah sesuatu yang harus dituntut, kewajiban adalah sesuatu yang harus dipenuhi", "Hak hanya milik individu, kewajiban milik negara", "Hak diatur oleh hukum pidana, kewajiban oleh hukum perdata", "Hak dapat diabaikan, kewajiban tidak dapat diabaikan", "Kewajiban selalu timbal balik, hak selalu sepihak"],
                correctAnswerIndex: 0,
                explanation: "Jawabanmu salah. Secara sederhana, **hak adalah sesuatu yang seharusnya kita terima/tuntut, sedangkan kewajiban adalah sesuatu yang harus kita lakukan/penuhi**."
            },
            {
                id: 10, category: 'mudah', objective: 'Pelanggaran & Pengingkaran',
                text: "Hak negara untuk meminta warga negara ikut serta dalam pertahanan dan keamanan adalah contoh dari...",
                options: ["Hak Warga Negara", "Kewajiban Negara", "Hak dan Kewajiban Timbal Balik", "Diskriminasi Positif", "Hak Asasi Murni"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Hak negara menuntut pembelaan negara diimbangi dengan kewajiban warga negara untuk melakukannya, ini menunjukkan adanya **Hak dan Kewajiban Timbal Balik**."
            },

            // Kategori Sedang/Penerapan (20 Soal)
            {
                id: 11, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Hak yang dimiliki setiap warga negara untuk memilih dan dipilih dalam pemilihan umum merupakan implementasi dari asas kedaulatan rakyat. Hal ini secara konstitusional terkait dengan pelaksanaan Pasal...",
                options: ["27 ayat (1)", "28D ayat (3)", "28F", "27 ayat (3)", "28I ayat (1)"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Hak untuk memperoleh kesempatan yang sama dalam pemerintahan, termasuk hak politik (memilih/dipilih), dijamin oleh **Pasal 28D ayat (3)** UUD NRI Tahun 1945."
            },
            {
                id: 12, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Seorang pejabat publik menunda pengurusan dokumen kependudukan warga karena warga tersebut tidak memberikan 'uang pelicin'. Tindakan ini termasuk bentuk pelanggaran hak warga negara karena...",
                options: ["Pejabat tersebut telah mencoreng nama baik instansi.", "Melanggar hak warga negara untuk mendapatkan pelayanan publik yang sama.", "Warga tersebut tidak memenuhi kewajiban membayar retribusi.", "Pejabat tersebut tidak menjalankan perintah atasan.", "Melanggar hak untuk berserikat"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Penundaan pelayanan karena tidak adanya 'uang pelicin' jelas melanggar **hak warga negara untuk mendapatkan pelayanan publik yang adil dan tanpa diskriminasi**."
            },
            {
                id: 13, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Pemerintah secara rutin mengalokasikan dana APBN untuk sektor pendidikan sebesar minimal 20%. Tindakan pemerintah ini merupakan perwujudan dari kewajiban negara untuk memenuhi hak warga negara, sebagaimana diatur dalam Pasal...",
                options: ["31 ayat (1)", "31 ayat (2)", "31 ayat (3)", "31 ayat (4)", "31 ayat (5)"],
                correctAnswerIndex: 3, // Diubah ke index 3 karena Pasal 31 ayat (4) adalah opsi ke-4
                explanation: "Jawabanmu salah. Kewajiban pemerintah untuk mengalokasikan minimal 20% dana APBN/APBD untuk pendidikan diatur dalam **Pasal 31 ayat (4)** UUD NRI Tahun 1945."
            },
            {
                id: 14, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Bila seseorang tidak ikut serta menjaga ketertiban umum dan malah membuang sampah sembarangan, hal tersebut merupakan pengingkaran kewajiban terhadap lingkungan sekitar. Manakah yang termasuk dasar hukum kewajiban ini?",
                options: ["Pasal 28D ayat (1) tentang kepastian hukum", "Pasal 30 ayat (1) tentang pembelaan negara", "Pasal 27 ayat (1) tentang menjunjung hukum dan pemerintahan", "Pasal 36A tentang lambang negara", "Pasal 28H tentang lingkungan hidup"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Kewajiban untuk ikut serta dalam menjaga ketertiban umum adalah bagian dari kewajiban **menjunjung hukum dan pemerintahan** tanpa kecuali, sebagaimana diatur dalam **Pasal 27 ayat (1)**."
            },
            {
                id: 15, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Seorang pengusaha memecat karyawannya tanpa memberikan pesangon sesuai ketentuan undang-undang. Perbuatan ini merupakan bentuk pelanggaran hak warga negara di bidang...",
                options: ["Politik", "Sosial Budaya", "Ekonomi dan Kesejahteraan", "Hukum dan Pemerintahan", "Pertahanan"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Hak atas pesangon dan perlindungan tenaga kerja berada dalam ranah **Ekonomi dan Kesejahteraan** (hak atas pekerjaan dan penghidupan yang layak)."
            },
            {
                id: 16, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Kebebasan untuk memilih agama dan beribadah menurut agamanya merupakan perwujudan dari hak warga negara. Jaminan ini diatur dalam Pasal...",
                options: ["29 ayat (1)", "29 ayat (2)", "28I ayat (1)", "28I ayat (2)", "28D ayat (1)"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. **Pasal 29 ayat (2)** UUD NRI Tahun 1945 menjamin kemerdekaan tiap-tiap penduduk untuk memeluk agamanya masing-masing dan untuk beribadat menurut agamanya dan kepercayaannya itu."
            },
            {
                id: 17, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Kasus korupsi yang dilakukan oleh penyelenggara negara adalah contoh pengingkaran kewajiban. Aspek kewajiban yang paling utama diingkari adalah...",
                options: ["Kewajiban membayar pajak", "Kewajiban ikut serta dalam pembelaan negara", "Kewajiban menjunjung tinggi hukum dan pemerintahan", "Kewajiban menghormati hak asasi orang lain", "Kewajiban pendidikan dasar"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Korupsi adalah bentuk pengkhianatan yang paling parah terhadap negara dan rakyat, yang merupakan pengingkaran terhadap **kewajiban menjunjung tinggi hukum dan pemerintahan** (Pasal 27 ayat 1)."
            },
            {
                id: 18, category: 'sedang', objective: 'Solusi',
                text: "Untuk mengatasi pengingkaran kewajiban dalam tertib berlalu lintas (misalnya tidak memakai helm), solusi yang paling efektif dari sisi penegakan hukum adalah...",
                options: ["Melakukan kampanye sosialisasi etika berlalu lintas.", "Meningkatkan sanksi denda dan intensitas operasi penertiban.", "Memberikan subsidi helm gratis kepada masyarakat.", "Membangun lebih banyak rambu-rambu lalu lintas.", "Menambah jumlah jalan tol"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. **Meningkatkan sanksi denda dan intensitas operasi penertiban** adalah tindakan represif dan penegakan hukum yang paling efektif untuk memaksa kepatuhan terhadap kewajiban berlalu lintas."
            },
            {
                id: 19, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Manakah pernyataan yang paling tepat menggambarkan hubungan kausalitas (sebab-akibat) antara hak dan kewajiban warga negara?",
                options: ["Hak didahulukan sebelum kewajiban dipenuhi.", "Kewajiban diutamakan daripada hak.", "Hak dan kewajiban harus dilaksanakan secara seimbang dan simultan.", "Hak akan ada jika kewajiban negara sudah dipenuhi.", "Kewajiban baru muncul setelah hak terpenuhi"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Prinsip dalam PPKn adalah **hak dan kewajiban harus dilaksanakan secara seimbang dan simultan**. Pemenuhan kewajiban membuka jalan untuk menuntut hak, dan sebaliknya."
            },
            {
                id: 20, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Melakukan perundungan (bullying) terhadap teman di sekolah dapat dikategorikan sebagai pelanggaran hak karena...",
                options: ["Melanggar hak untuk mendapatkan nilai yang baik.", "Melanggar hak anak untuk dilindungi dari kekerasan dan diskriminasi.", "Melanggar kewajiban untuk membayar iuran sekolah.", "Melanggar kewajiban untuk mematuhi tata tertib.", "Melanggar hak atas kebebasan akademik"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Perundungan melanggar **hak anak (siswa) untuk dilindungi dari kekerasan, diskriminasi, dan diperlakukan secara manusiawi**, sesuai dengan jaminan HAM."
            },
            {
                id: 21, category: 'sedang', objective: 'Solusi',
                text: "Untuk mengatasi kasus pelanggaran hak asasi manusia berupa perlakuan diskriminatif terhadap kelompok minoritas, solusi yang bersifat preventif adalah...",
                options: ["Memberikan hukuman berat kepada pelaku diskriminasi.", "Mengadakan dialog antar-agama dan pendidikan multikultural sejak dini.", "Membuat undang-undang yang lebih ketat tentang diskriminasi.", "Melakukan unjuk rasa menuntut keadilan.", "Menutup akses informasi"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Solusi **preventif** (pencegahan) terbaik adalah **pendidikan multikultural dan dialog** untuk menumbuhkan toleransi dan pemahaman sejak dini."
            },
            {
                id: 22, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Setiap warga negara berhak atas jaminan sosial dan pemeliharaan fakir miskin dan anak terlantar. Pasal yang mendasari hal ini merupakan hak di bidang kesejahteraan sosial, yaitu Pasal...",
                options: ["33 ayat (1)", "34 ayat (1)", "34 ayat (2)", "34 ayat (3)", "34 ayat (4)"],
                correctAnswerIndex: 3,
                explanation: "Jawabanmu salah. Jaminan sosial dan pemeliharaan fakir miskin diatur dalam **Pasal 34 ayat (1), (2), dan (3)**. Ayat (3) secara spesifik tentang jaminan sosial."
            },
            {
                id: 23, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Dalam musyawarah desa, sekelompok warga menolak ide pembangunan fasilitas umum hanya karena diusulkan oleh kelompok yang berseberangan politik. Ini adalah bentuk pengingkaran kewajiban dalam aspek...",
                options: ["Kewajiban menjaga persatuan dan kesatuan", "Kewajiban menghormati hak berpendapat", "Kewajiban membayar retribusi", "Kewajiban mengikuti pemilu", "Kewajiban membayar pajak"],
                correctAnswerIndex: 0,
                explanation: "Jawabanmu salah. Penolakan berdasarkan sentimen politik yang merugikan kepentingan umum merupakan pengingkaran terhadap **kewajiban menjaga persatuan dan kesatuan** serta mengutamakan kepentingan bersama."
            },
            {
                id: 24, category: 'sedang', objective: 'Solusi',
                text: "Seorang siswa diwajibkan oleh guru untuk menuliskan gagasan solutif terhadap masalah pengingkaran kewajiban membuang sampah pada tempatnya di lingkungan sekolah. Gagasan yang paling aplikatif adalah...",
                options: ["Memanggil polisi untuk menangkap siswa yang membuang sampah sembarangan.", "Membuat sistem denda yang sangat mahal untuk semua pelanggar.", "Memasang CCTV dan menerapkan sanksi edukatif (misalnya membersihkan toilet) bagi pelanggar.", "Menutup kantin sekolah agar tidak ada sampah makanan.", "Memberi hadiah bagi siswa yang melaporkan temannya"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Solusi yang **aplikatif dan edukatif** di lingkungan sekolah adalah **memasang CCTV dan menerapkan sanksi yang mendidik** (edukatif) agar siswa sadar akan kesalahannya."
            },
            {
                id: 25, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Pasal 27 ayat (3) mengatur tentang kewajiban warga negara untuk ikut serta dalam pembelaan negara. Konsekuensi logis dari pasal ini adalah negara wajib memberikan:",
                options: ["Gaji yang tinggi kepada seluruh warga negara.", "Jaminan untuk memperoleh pekerjaan.", "Pelatihan dan fasilitas yang memadai untuk pertahanan negara.", "Kebebasan berpendapat tanpa batas.", "Subsidi bahan bakar minyak"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Jika warga wajib membela, maka negara wajib memberikan **pelatihan dan fasilitas yang memadai** untuk mendukung kewajiban pertahanan dan keamanan tersebut."
            },
            {
                id: 26, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Contoh pelanggaran hak warga negara yang bersumber dari mekanisme pasar bebas (globalisasi ekonomi) adalah...",
                options: ["Persaingan usaha yang sehat antar pengusaha kecil.", "Munculnya produk-produk impor yang murah.", "Eksploitasi buruh dengan upah minimum yang tidak manusiawi.", "Semua warga negara dapat mengakses internet dengan mudah.", "Adanya kenaikan harga komoditas impor"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. **Eksploitasi buruh** dengan upah rendah adalah bentuk pelanggaran hak di bidang ekonomi yang sering terjadi akibat tekanan persaingan global."
            },
            {
                id: 27, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Hak setiap orang untuk mengembangkan diri dan melalui pemenuhan kebutuhan dasarnya diatur dalam Pasal 28C ayat (1). Hal ini menekankan bahwa hak tidak hanya bersifat fisik, tetapi juga...",
                options: ["Politik", "Spiritual", "Psikologis dan Intelektual", "Ekonomi", "Pertahanan"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. 'Mengembangkan diri' merujuk pada pengembangan potensi, yang mencakup aspek **Psikologis dan Intelektual**, seperti melalui pendidikan dan ilmu pengetahuan."
            },
            {
                id: 28, category: 'sedang', objective: 'Solusi',
                text: "Dalam konteks hak warga negara atas informasi (Pasal 28F), gagasan solutif yang bisa diterapkan pemerintah untuk mencegah hoaks adalah...",
                options: ["Menghapus media sosial secara total.", "Melakukan sensor ketat terhadap semua berita yang beredar.", "Membangun platform cek fakta resmi yang mudah diakses dan edukasi literasi digital.", "Memberikan sanksi pidana tanpa proses pengadilan.", "Membuat media sosial versi pemerintah"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Solusi yang seimbang adalah **membangun platform cek fakta dan edukasi literasi digital** untuk memberdayakan warga negara dalam memilah informasi, bukan membatasi akses."
            },
            {
                id: 29, category: 'sedang', objective: 'Pelanggaran & Pengingkaran',
                text: "Perbedaan mendasar antara pelanggaran hak dan pengingkaran kewajiban adalah:",
                options: ["Pelanggaran hak selalu dilakukan oleh pemerintah, pengingkaran kewajiban selalu oleh rakyat.", "Pelanggaran hak berkaitan dengan tindakan yang mengurangi hak orang lain, pengingkaran kewajiban berkaitan dengan tidak dilaksanakannya tugas.", "Pelanggaran hak diatur hukum pidana, pengingkaran kewajiban diatur hukum perdata.", "Pelanggaran hak terjadi di ranah publik, pengingkaran kewajiban terjadi di ranah privat.", "Pelanggaran hak hanya bersifat aktif, pengingkaran kewajiban hanya bersifat pasif."],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. **Pelanggaran hak** adalah tindakan aktif atau pasif yang mengurangi hak orang lain, sedangkan **pengingkaran kewajiban** adalah kegagalan atau penolakan melaksanakan tugas yang diamanatkan."
            },
            {
                id: 30, category: 'sedang', objective: 'Hak & Kewajiban',
                text: "Apabila warga negara dihadapkan pada ancaman terhadap keutuhan bangsa dan negara, kewajiban yang harus diutamakan di atas hak pribadi adalah...",
                options: ["Hak untuk mendapatkan pekerjaan", "Hak untuk mendapatkan pendidikan", "Kewajiban ikut serta dalam upaya pembelaan negara", "Kewajiban mendapat keadilan", "Hak untuk berlibur"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Dalam situasi ancaman terhadap negara, **kewajiban ikut serta dalam upaya pembelaan negara** (Pasal 27 ayat 3) menjadi prioritas utama di atas hak-hak pribadi."
            },

            // Kategori Sulit/Analisis (10 Soal)
            {
                id: 31, category: 'sulit', objective: 'Pelanggaran & Pengingkaran',
                text: "Studi Kasus: Pemerintah Daerah A memutuskan untuk menggusur pemukiman warga tanpa memberikan ganti rugi yang layak dan proses musyawarah yang transparan. Analisislah, bentuk pelanggaran hak dan pengingkaran kewajiban negara yang paling dominan terjadi adalah:",
                options: ["Pengingkaran kewajiban menjaga pertahanan negara.", "Pelanggaran hak atas pekerjaan dan penghidupan yang layak dan pengingkaran kewajiban menjunjung hukum.", "Pelanggaran hak atas kepastian hukum dan hak milik, serta pengingkaran kewajiban memberikan perlindungan.", "Pengingkaran kewajiban memajukan kebudayaan nasional.", "Pelanggaran hak berserikat dan berkumpul"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Penggusuran tanpa ganti rugi dan proses yang adil melanggar **Hak atas kepastian hukum, hak milik, dan hak untuk bertempat tinggal (Pasal 28H ayat 1)**, dan merupakan pengingkaran kewajiban negara untuk **memberikan perlindungan** (Pasal 28I ayat 4)."
            },
            {
                id: 32, category: 'sulit', objective: 'Solusi',
                text: "Untuk menyelesaikan masalah pengingkaran kewajiban warga negara yang menolak divaksin saat terjadi pandemi (bertentangan dengan hak publik atas kesehatan), solusi yang paling bijak dan konstitusional bagi negara adalah:",
                options: ["Memenjarakan semua warga yang menolak vaksinasi.", "Memberikan sanksi berupa penundaan pelayanan publik tertentu (administrasi) hingga warga memenuhi kewajiban vaksinasi.", "Memaksa warga untuk divaksin dengan kekerasan fisik.", "Menghapus program vaksinasi dan membiarkan masyarakat memilih.", "Melakukan pengasingan terhadap warga yang menolak vaksin"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Negara harus menyeimbangkan hak individu dengan hak publik. Solusi paling bijak dan konstitusional adalah **memberikan sanksi administratif (penundaan pelayanan publik)** yang berfungsi sebagai paksaan tidak langsung tanpa melanggar HAM dasar."
            },
            {
                id: 33, category: 'sulit', objective: 'Hak & Kewajiban',
                text: "Pasal 28I ayat (4) menyatakan: 'Perlindungan, pemajuan, penegakan, dan pemenuhan hak asasi manusia adalah tanggung jawab negara, terutama pemerintah.' Makna 'terutama pemerintah' dalam pasal ini menunjukkan bahwa:",
                options: ["Hanya pemerintah yang boleh mengurus HAM.", "Lembaga non-pemerintah tidak memiliki tanggung jawab HAM.", "Pemerintah memiliki peran sentral dan kewajiban utama, namun seluruh elemen negara dan masyarakat juga bertanggung jawab.", "Setiap warga negara boleh menolak tanggung jawab HAM.", "HAM adalah urusan luar negeri saja"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Frasa 'terutama pemerintah' berarti **pemerintah memiliki kewajiban utama dan peran sentral** (karena memiliki kekuasaan dan sumber daya), tetapi menegaskan bahwa **semua elemen** (legislatif, yudikatif, dan masyarakat) juga wajib berpartisipasi dalam pemenuhan HAM."
            },
            {
                id: 34, category: 'sulit', objective: 'Pelanggaran & Pengingkaran',
                text: "Kasus penambangan liar (illegal mining) adalah bentuk pengingkaran kewajiban yang paling merugikan dalam konteks Pasal 33 ayat (3) UUD NRI Tahun 1945. Analisis kerugian utamanya adalah:",
                options: ["Pemerintah kehilangan pendapatan dari retribusi.", "Warga sekitar kehilangan mata pencaharian sebagai petani.", "Mengabaikan kewajiban pengelolaan sumber daya alam yang menguasai hajat hidup orang banyak untuk sebesar-besarnya kemakmuran rakyat.", "Meningkatkan harga jual batu bara di pasar internasional.", "Merusak citra pariwisata daerah"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Kerugian utama penambangan liar adalah **pengabaian kewajiban konstitusional** dalam Pasal 33 ayat (3) yang mengharuskan Sumber Daya Alam diurus untuk **sebesar-besarnya kemakmuran rakyat**, bukan untuk kepentingan kelompok tertentu."
            },
            {
                id: 35, category: 'sulit', objective: 'Solusi',
                text: "Apabila terjadi konflik sosial akibat perbedaan SARA yang mengancam hak warga negara atas rasa aman, solusi yang paling komprehensif (melibatkan aspek hukum, sosial, dan pendidikan) adalah:",
                options: ["Mengerahkan aparat keamanan untuk membubarkan semua pihak yang berkonflik.", "Melakukan relokasi paksa terhadap kelompok minoritas ke wilayah lain.", "Menguatkan penegakan hukum terhadap provokator (hukum), menyelenggarakan dialog tokoh (sosial), dan memasukkan modul toleransi di kurikulum sekolah (pendidikan).", "Menutup semua tempat ibadah yang menjadi sumber konflik.", "Memberikan sanksi denda yang sangat besar bagi semua warga yang terlibat"],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. Solusi **komprehensif** harus mencakup tiga pilar: **hukum** (penindakan), **sosial** (dialog), dan **pendidikan** (pencegahan jangka panjang) secara simultan."
            },
            {
                id: 36, category: 'sulit', objective: 'Hak & Kewajiban',
                text: "Hak setiap orang untuk berkomunikasi dan memperoleh informasi diatur dalam Pasal 28F. Dalam era digital, pelaksanaan hak ini berpotensi berbenturan dengan kewajiban untuk...",
                options: ["Membayar retribusi negara.", "Menjaga kebersihan lingkungan.", "Membela negara dari ancaman militer.", "Menghormati hak asasi orang lain dan batasan moral/etika.", "Meningkatkan kualitas pendidikan"],
                correctAnswerIndex: 3,
                explanation: "Jawabanmu salah. Kebebasan memperoleh informasi sering berbenturan dengan **kewajiban untuk menghormati hak asasi orang lain** (misalnya, privasi, nama baik) dan batasan moral/etika yang diatur oleh UU ITE."
            },
            {
                id: 37, category: 'sulit', objective: 'Pelanggaran & Pengingkaran',
                text: "Studi Kasus: Anggota legislatif A jarang menghadiri rapat paripurna dan sering absen dalam pengambilan keputusan penting terkait anggaran. Meskipun tidak melanggar hukum pidana, tindakan ini paling tepat dikategorikan sebagai:",
                options: ["Pelanggaran hak rakyat di bidang politik dan pengingkaran kewajiban wakil rakyat.", "Pengingkaran kewajiban membayar pajak.", "Pelanggaran hak untuk mendapatkan penghidupan yang layak.", "Diskriminasi rasial.", "Pengingkaran kewajiban mematuhi undang-undang"],
                correctAnswerIndex: 0,
                explanation: "Jawabanmu salah. Ketidakhadiran wakil rakyat adalah **pengingkaran kewajiban** mereka sebagai representasi rakyat, yang secara langsung melanggar **hak rakyat** untuk mendapatkan perwakilan dan pemerintahan yang bertanggung jawab."
            },
            {
                id: 38, category: 'sulit', objective: 'Solusi',
                text: "Pilihlah gagasan solutif yang paling tepat untuk mengatasi pengingkaran kewajiban untuk 'ikut serta dalam memelihara sarana dan prasarana umum' (Pasal 27 ayat 1) di tingkat RT/RW:",
                options: ["Melakukan pengawasan ketat oleh aparat penegak hukum di setiap RT/RW.", "Menyusun Peraturan RT/RW yang mengikat dengan sanksi sosial/denda, dan mengadakan gotong royong rutin dengan penekanan pada edukasi kesadaran kolektif.", "Membubarkan RT/RW yang tidak mampu menjaga fasilitas umum.", "Menyalahkan pemerintah daerah atas kerusakan fasilitas.", "Menghapus semua sarana dan prasarana umum"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. Solusi yang efektif di tingkat komunitas adalah kombinasi antara **aturan mengikat (sanksi sosial/denda)** dan **pendekatan edukatif/kultural (gotong royong rutin)** untuk menumbuhkan rasa kepemilikan."
            },
            {
                id: 39, category: 'sulit', objective: 'Hak & Kewajiban',
                text: "Prinsip *non-derogable rights* (hak yang tidak dapat dikurangi dalam keadaan apapun) merujuk pada beberapa hak yang dijamin UUD NRI Tahun 1945. Manakah dari hak berikut yang termasuk *non-derogable*?",
                options: ["Hak untuk berserikat dan berkumpul.", "Hak untuk mendapatkan pekerjaan.", "Hak untuk tidak disiksa.", "Hak untuk memperoleh informasi.", "Hak untuk memilih dan dipilih dalam pemilu."],
                correctAnswerIndex: 2,
                explanation: "Jawabanmu salah. **Hak untuk tidak disiksa (Pasal 28I ayat 1)** adalah salah satu hak yang termasuk *non-derogable* (tidak dapat dikurangi/dicabut) bahkan dalam keadaan darurat negara. Hak lain seperti berserikat masih dapat dibatasi oleh undang-undang."
            },
            {
                id: 40, category: 'sulit', objective: 'Pelanggaran & Pengingkaran',
                text: "Fenomena *free-rider* (penumpang gelap) di mana seseorang menikmati fasilitas publik tanpa ikut berkontribusi (misalnya membayar iuran atau pajak) adalah bentuk:",
                options: ["Pelanggaran Hak Asasi Manusia.", "Pengingkaran Kewajiban Warga Negara secara pasif.", "Pelanggaran Hak Mutlak.", "Kewajiban negara yang belum terpenuhi.", "Pengingkaran Hak Asasi"],
                correctAnswerIndex: 1,
                explanation: "Jawabanmu salah. *Free-rider* adalah contoh klasik dari **Pengingkaran Kewajiban Warga Negara secara pasif** (tidak melakukan apa yang seharusnya dilakukan) yang merugikan kepentingan umum."
            },
        ];

        // --- GLOBAL STATE AND VARIABLES ---
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let score = 0;
        let userName = '';
        let userClass = '';
        const appDiv = document.getElementById('app');

        // --- UTILITY FUNCTIONS ---
        // Diperbarui untuk mendukung 5 opsi (A, B, C, D, E)
        const getAnswerKey = (index) => ['A', 'B', 'C', 'D', 'E'][index];

        // --- SCREEN RENDERERS ---

        function renderStartScreen() {
            appDiv.innerHTML = `
                <!-- KOP Halaman Awal (Pink Block) -->
                <div class="bg-pink-700 text-white rounded-t-xl py-6 px-8 shadow-xl w-full max-w-lg mx-auto">
                    <h2 class="text-xl md:text-2xl font-extrabold tracking-wide">SELAMAT DATANG!</h2>
                    <p class="text-sm opacity-90">Latihan PPKn Persiapan Semester Ganjil</p>
                </div>

                <div id="start-card" class="card p-6 md:p-10 rounded-b-xl max-w-lg mx-auto text-center border-t-0">
                    <h1 class="text-3xl md:text-4xl font-extrabold text-pink-800 mb-4 tracking-tight">
                        Semangat!
                    </h1>
                    <p class="text-lg text-pink-600 mb-8 font-semibold">
                        Mari kita asah kemampuanmu dalam memahami Hak dan Kewajiban Warga Negara.
                        <br>Persiapan Semester Ganjil sudah menantimu!
                    </p>

                    <div class="space-y-4 text-left">
                        <div>
                            <label for="name" class="block text-sm font-medium text-pink-700 mb-1">Nama Lengkap</label>
                            <input type="text" id="name" placeholder="Tuliskan Namamu di Sini"
                                class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:ring-pink-500 focus:border-pink-500 text-gray-800">
                        </div>
                        <div>
                            <label for="class" class="block text-sm font-medium text-pink-700 mb-1">Kelas (XII)</label>
                            <select id="class"
                                class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:ring-pink-500 focus:border-pink-500 text-gray-800">
                                <option value="" disabled selected>Pilih Kelasmu</option>
                                <option value="XII-1">XII-1</option>
                                <option value="XII-2">XII-2</option>
                                <option value="XII-3">XII-3</option>
                                <option value="XII-4">XII-4</option>
                                <option value="XII-5">XII-5</option>
                                <option value="XII-6">XII-6</option>
                            </select>
                        </div>
                    </div>

                    <button id="start-button" class="pink-button w-full mt-8 py-3 rounded-xl text-lg font-bold uppercase tracking-wider disabled:opacity-50" disabled>
                        Mulai Latihan Sekarang!
                    </button>
                    <p id="error-message" class="text-red-500 text-sm mt-3 hidden">Harap isi Nama dan pilih Kelas terlebih dahulu.</p>
                </div>
            `;

            const nameInput = document.getElementById('name');
            const classSelect = document.getElementById('class');
            const startButton = document.getElementById('start-button');
            const errorMessage = document.getElementById('error-message');

            const validateInputs = () => {
                const nameValue = nameInput.value.trim();
                const classValue = classSelect.value;
                if (nameValue && classValue) {
                    startButton.disabled = false;
                    errorMessage.classList.add('hidden');
                } else {
                    startButton.disabled = true;
                    errorMessage.classList.remove('hidden');
                }
            };

            nameInput.addEventListener('input', validateInputs);
            classSelect.addEventListener('change', validateInputs);

            startButton.addEventListener('click', () => {
                userName = nameInput.value.trim();
                userClass = classSelect.value;
                if (userName && userClass) {
                    currentQuestionIndex = 0;
                    userAnswers = {};
                    score = 0;
                    renderQuizScreen();
                }
            });
        }

        function renderQuizScreen() {
            if (currentQuestionIndex >= questions.length) {
                return renderResultScreen();
            }

            const q = questions[currentQuestionIndex];
            const qNumber = currentQuestionIndex + 1;
            const totalQ = questions.length;
            const selectedOption = userAnswers[q.id];

            appDiv.innerHTML = `
                <div id="quiz-container" class="w-full max-w-4xl mx-auto">
                    <div class="card p-6 md:p-8 rounded-xl mx-auto border-top-4">
                        <div class="mb-6 border-b pb-4 border-pink-200">
                            <h2 class="text-xl font-bold text-pink-700">Soal ke ${qNumber} dari ${totalQ}</h2>
                            <p class="text-sm text-gray-500">Kategori: <span class="font-semibold capitalize">${q.category}</span></p>
                            <p class="text-sm text-gray-500">Fokus Materi: ${q.objective}</p>
                        </div>

                        <p class="text-lg mb-6 font-medium text-gray-800 whitespace-pre-wrap">${q.text}</p>

                        <div id="options-container" class="space-y-3">
                            ${q.options.map((option, index) => `
                                <button data-index="${index}" class="option-button w-full text-left p-3 rounded-lg shadow-sm text-gray-700
                                    ${selectedOption === index ? 'selected' : 'bg-white'}
                                    hover:shadow-md transition duration-150 ease-in-out">
                                    <span class="font-bold text-pink-600 mr-2">${getAnswerKey(index)}.</span> ${option}
                                </button>
                            `).join('')}
                        </div>

                        <div id="feedback-area" class="mt-6 p-4 rounded-lg text-white font-semibold hidden"></div>

                        <div class="mt-8 flex justify-between items-center">
                            <button id="prev-button" class="pink-button py-2 px-4 rounded-lg font-bold disabled:opacity-50" ${qNumber === 1 ? 'disabled' : ''}>
                                &larr; Sebelumnya
                            </button>
                            <button id="next-button" class="pink-button py-2 px-4 rounded-lg font-bold disabled:opacity-50" ${selectedOption === undefined ? 'disabled' : ''}>
                                ${qNumber === totalQ ? 'Lihat Hasil Akhir &rarr;' : 'Soal Selanjutnya &rarr;'}
                            </button>
                        </div>
                    </div>
                </div>
            `;

            const optionsContainer = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const prevButton = document.getElementById('prev-button');
            const feedbackArea = document.getElementById('feedback-area');

            // --- Event Listeners ---
            optionsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.option-button');
                if (!button) return;

                const selectedIndex = parseInt(button.dataset.index);
                userAnswers[q.id] = selectedIndex;

                // Update visual selection
                document.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                nextButton.disabled = false;

                showFeedback(q, selectedIndex, feedbackArea);
            });

            nextButton.addEventListener('click', () => {
                currentQuestionIndex++;
                renderQuizScreen();
            });

            prevButton.addEventListener('click', () => {
                currentQuestionIndex--;
                renderQuizScreen();
            });

            // Re-render feedback if an answer was already selected
            if (selectedOption !== undefined) {
                showFeedback(q, selectedOption, feedbackArea);
            }
        }

        function showFeedback(q, selectedIndex, feedbackArea) {
            const options = document.querySelectorAll('.option-button');
            const correct = selectedIndex === q.correctAnswerIndex;

            // Remove previous feedback classes
            options.forEach(btn => btn.classList.remove('correct-answer', 'incorrect-answer', 'selected'));
            feedbackArea.classList.add('hidden');

            // Apply 'selected' class to the chosen option
            options[selectedIndex].classList.add('selected');

            if (correct) {
                // Correct Answer Feedback
                options[selectedIndex].classList.add('correct-answer', 'font-extrabold');
                options[selectedIndex].classList.remove('selected');

                feedbackArea.classList.remove('hidden');
                feedbackArea.classList.remove('bg-red-500');
                feedbackArea.classList.add('bg-green-500');
                feedbackArea.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <span class="text-2xl star-pulse">‚≠ê</span>
                        <p class="text-lg">Jawabanmu Benar! **Kamu Keren** ‚ù§Ô∏è</p>
                    </div>
                `;
            } else {
                // Incorrect Answer Feedback
                options[selectedIndex].classList.add('incorrect-answer');
                options[selectedIndex].classList.remove('selected');

                // Highlight the correct answer
                options[q.correctAnswerIndex].classList.add('correct-answer', 'font-extrabold');

                feedbackArea.classList.remove('hidden');
                feedbackArea.classList.remove('bg-green-500');
                feedbackArea.classList.add('bg-red-500');
                feedbackArea.innerHTML = `
                    <p class="text-sm">‚ùå Jawaban Salah.</p>
                    <p class="text-sm font-light mt-1">${q.explanation}</p>
                    <p class="text-sm font-bold mt-2">Jawaban yang benar adalah **${getAnswerKey(q.correctAnswerIndex)}**.</p>
                `;
            }
        }

        function calculateScore() {
            score = 0;
            questions.forEach(q => {
                if (userAnswers[q.id] === q.correctAnswerIndex) {
                    score++;
                }
            });
        }

        function renderResultScreen() {
            calculateScore();
            const totalQ = questions.length;
            const incorrectQ = totalQ - score;
            const percentage = ((score / totalQ) * 100).toFixed(1);

            appDiv.innerHTML = `
                <div class="card p-6 md:p-10 rounded-xl mx-auto text-center max-w-lg">
                    <h1 class="text-4xl font-extrabold text-pink-800 mb-2">üéâ Hasil Latihanmu! üéâ</h1>
                    <p class="text-lg text-pink-600 mb-8 font-semibold">Oleh: ${userName} | Kelas: ${userClass}</p>

                    <div class="grid grid-cols-3 gap-4 text-white font-bold mb-10">
                        <div class="bg-pink-500 p-4 rounded-xl">
                            <p class="text-3xl">${score}</p>
                            <p class="text-sm">Jawaban Benar</p>
                        </div>
                        <div class="bg-red-500 p-4 rounded-xl">
                            <p class="text-3xl">${incorrectQ}</p>
                            <p class="text-sm">Jawaban Salah</p>
                        </div>
                        <div class="bg-green-500 p-4 rounded-xl">
                            <p class="text-3xl">${percentage}%</p>
                            <p class="text-sm">Persentase</p>
                        </div>
                    </div>

                    <button id="review-button" class="pink-button py-2 px-6 rounded-lg font-bold mb-4">
                        Lihat Ulasan Jawaban (Review)
                    </button>
                    <button id="restart-button" class="bg-gray-400 hover:bg-gray-500 py-2 px-6 rounded-lg text-white font-bold">
                        Ulangi Latihan
                    </button>

                    <div id="review-area" class="mt-8 text-left space-y-6 hidden">
                        <h3 class="text-2xl font-bold text-pink-800 border-b pb-2">Ulasan Lengkap Jawaban</h3>
                        ${questions.map(q => {
                            const userAnswer = userAnswers[q.id];
                            const isCorrect = userAnswer === q.correctAnswerIndex;
                            const statusColor = isCorrect ? 'bg-green-100 border-green-500' : 'bg-red-100 border-red-500';
                            const statusText = isCorrect ? 'Benar! Kamu Keren ‚ù§Ô∏è ‚≠ê' : 'Salah. Pelajari lagi.';
                            const userChoiceText = userAnswer !== undefined ? q.options[userAnswer] : 'Tidak Dijawab';
                            const correctChoiceText = q.options[q.correctAnswerIndex];

                            return `
                                <div class="p-4 rounded-xl border-l-4 ${statusColor} shadow-md">
                                    <p class="font-bold text-gray-800 mb-2">Q${q.id}. ${q.text}</p>
                                    <p class="text-sm font-semibold text-gray-600 mb-1">Kategori: <span class="capitalize">${q.category}</span></p>
                                    <p class="text-sm ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                                        Status: ${statusText}
                                    </p>
                                    <p class="text-sm text-gray-700 mt-2">Pilihanmu: <span class="font-bold">${userAnswer !== undefined ? getAnswerKey(userAnswer) : '-'}</span> - ${userChoiceText}</p>
                                    ${!isCorrect ? `
                                        <p class="text-sm text-gray-700">Jawaban Benar: <span class="font-bold text-green-700">${getAnswerKey(q.correctAnswerIndex)}</span> - ${correctChoiceText}</p>
                                        <p class="text-xs italic mt-1 text-gray-600">Alasan: ${q.explanation}</p>
                                    ` : ''}
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;

            document.getElementById('review-button').addEventListener('click', () => {
                const reviewArea = document.getElementById('review-area');
                reviewArea.classList.toggle('hidden');
                document.getElementById('review-button').textContent = reviewArea.classList.contains('hidden') ? 'Lihat Ulasan Jawaban (Review)' : 'Sembunyikan Ulasan';
            });

            document.getElementById('restart-button').addEventListener('click', renderStartScreen);
        }

        // --- INITIALIZATION ---
        window.onload = renderStartScreen;

    </script>
</body>
</html>
